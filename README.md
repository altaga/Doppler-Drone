# Doppler-Drone

<img src="https://i.ibb.co/dGZcWLH/Drone.png" width="1000">

# Table of contents
* [Introduction](#Introduction)
* [System Diagram](#system-diagram)
* [System works this way](#system-works-this-way)
* [The WebApp is hosting as a CloudFoundry App](#the-webapp-is-hosting-as-a-cloudfoundry-app)
* [Doppler Drone Sigfox Module Circuit](#doppler-drone-sigfox-module-circuit)
* [Real Module Photos](#real-module-photos)
* [Claw Bluetooth Module](#claw-bluetooth-module)
* [Claw BT Module Under The Drone](#claw-bt-module-under-the-drone)
* [Command center](#command-center)

## Introduction

México is a country prone to suffer different kinds of natural disasters. On September the 7th of 2017 there was an earthquake in Mexico City. At about 8.1 in the Richter scale, it caused structural damage to several buildings around the city and a couple of pedestrian bridges in the authors' University. And then we had a big earthquake on September 19th that decimated these damaged structures. In Mexico, it is hard to get immediate response and access to first aid support in case of a disaster. The first responders in charge are Civil Protection and the Military forces. But their actions could, and take a long time. The telecommunications were down and made very difficult to communicate to emergency lines. First responders were very slow to act. This was because of the traffic generated by the chaos and a massive walking exodus was seen in the principal avenues of the great city. It was virtually impossible to get to the affected areas in order to help and for the first responders, it was an abhorrent dilemma. 

Fortunately, nowadays we have several technological tools that can provide a service in those minutes and hours that are key for the survival of hundreds to thousands of people. 

## Our Solution

As we went through the challenge’s documentation we noticed that all the drone projects did was only mapping structural damage. But the main problem is the people that need fast and quick aid in the immediate minutes after the disaster.
Many kinds of circumstances may determine a big difference between life or death. Drone systems bring us a new way to mitigate some emergencies related to health care as we know. The kind of situation described previously makes difficult to send help and medical stuff.

So what do we do? Send a Drone with a medical package that can go past all the chaos and provide immediate response and aid to the disaster’s victims. And not only that but we produce real-time data analytics via Sigfox (LOPWAN and LoRA can be alternatives) powered devices which the drones drop in order to provide targeted and focused aid with a customizable medical package. Firstly the drone will drop on certain pre-identified hotspots a package containing an IoT device that can track the average number of people in said hotspot and most importantly the number of injured people. After getting that data a second drone will fly to the spot with a medical package customized according to that data in order to save resources and most importantly sent aid according to the emergency.
We are not replacing or changing anything that is already working, we are just improving how to provide aid in those fatal first moments.

Our system has many advantages like:

It gets to the disaster zone earlier than Civil Protection or Military forces.
Air transportation.
Easy Access to difficult locations.
Tracks the hot spots of disaster and provides real-time data analytics.
Personal and reliable network to communicate the red zones.
Improved logistics for services.
We use drones to bring things people can use anytime at a disaster zone, apart from medical aid packages.
It helps authorities with their tasks of saving lives.

This distribution will help give better logistics information and predictions to Civil Protection and the Military Forces to act in the most damaged places and map the hotspot saving resources time and lives. Also, this information can help improve the city’s infrastructure to prevent future disasters.

We will use this project hand by hand with Civil Protection to improve their services and with Military forces to guide them where the actual disaster is.


## System Diagram: 

<img src="https://i.ibb.co/Xxk3cS7/call-for-code-Diagram.png" width="1000">

IBM Services:
- Watson IoT Platform.
- Watson Studio       (Python)
- Cloudant DB.
- Cloud Foundry App.  (WebApp Hosting)

Other Services:
- Google Maps API.
- SigFox Backend.

[Back to table of contents](#table-of-contents)

##  System works this way:

- The Sigfox module sends an encrypted message to the Sigfox Backend platform.
- Sigfox Backend communicates directly with Watson IoT platform with API Integration.
- To manage the communication between the devices and the website, we use a Python console in Watson Studio, the website doesnt work without this configuration.
  - When a new call from the Sigfox module arrives, the information is sent to Cloudant for the database.
  - Through Watson IoT we send the necessary information to the page. 
  - The data received by the page are the following:   
    - New alerts. 
    - Direct information from the database.
    
[Back to table of contents](#table-of-contents)
    
## The WebApp is hosting as a CloudFoundry App:

<img src="https://i.ibb.co/SPd0CGF/image.png" width="1000">

[Back to table of contents](#table-of-contents)

## Doppler Drone Sigfox Module Circuit:

<img src="https://i.ibb.co/qpYshDc/Untitled-Sketch-2-bb.png" width="1000">

[Back to table of contents](#table-of-contents)

## Real Module Photos:

<img src="https://i.ibb.co/nwNb8Yv/DSC00045.jpg" width="1000">
<img src="https://i.ibb.co/dLFNmZM/DSC00048.jpg" width="1000">
<img src="https://i.ibb.co/ZT2Md7R/DSC00051.jpg" width="1000">

[Back to table of contents](#table-of-contents)

## Claw Bluetooth Module: 
(We can control this claw with any System with BT)

<img src="https://i.ibb.co/DYJW6CD/Untitled-Sketch-bb.png" width="1000">

[Back to table of contents](#table-of-contents)

## Claw BT Module Under The Drone:

<img src="https://i.ibb.co/Tm7NTS5/image.png" width="1000">
<img src="https://i.ibb.co/KwtQSKf/image.png" width="1000">

[Back to table of contents](#table-of-contents)

## Command center:

We have an operation center that allow us to manage, track and control our drone devices. The platform that we use to make this possible is via Ardupilot. This open source help us to establish direct communication with each drone using Telemetry radios, Bluetooth, IP connections etc.

The flight computer have a powerful capacity to perform multiple tasks that allow us to set different routes and actions in case of critical changes.

<img src="https://i.ibb.co/6ggx7Fr/Drone.jpg" width="1000">

The drone features are:
- Drone Model F250
- Diagonal Wheelbase: 450mm.
- 2112 1000KV Brushless motor.
- HP Simonk 30A Speed Controller.
- Frame Weight: 282g.
- Takeoff Weight: 800g ~ 1600g.
- Landing gear: 17.5g each arm.
- 1 x APM2.8 Flight controller.
- Screws for landing gear: 6.86g (all screws)

The interface bring us the facility to set different parameters like Mission Waypoints and events. These commands bring a self and secure drone driving because in case of losing connectivity the drone will return to home direction immediately, applying a security process to avoid any obstacles like trees or buildings that make it crash. At first instance we provide a person to monitor and program the drone routes. Using automation we want to launch task automatically in strategic zones previously set by authorities to provide a fast response during disasters first approach. Using radio transmitter has a longer operating range up to 10KM and above.

In the other hand the integration using UDP protocol facilitate the communication and interaction with drones via mission planner to send and set new task with automatic operations based on situation. 

In operation mode Ardupilot software allow us to set the points to deliver the IoT module with basic commands.

<img src="https://i.ibb.co/0Cqjxb4/callforcode.png" width="1000">

## Conclusion

First response systems can improve,and can be applied to several cities globally not only Mexico. We can provide the required tool to improve those first responses. Drones are the most efficient and fast devices to send packages and they will be autonomous )already tested them this way and you can see in the video).

To continue working on this and in order to improve it, we wish to expand the possibilities of the project. We have access to 360 degree video cameras and we can develop VR applications, so that will be the next step. Not only delivering the goods but also mapping the terrain, like no other tech at the moment can. Using 360 degree and VR capabilities in order to provide a superior service to first responders.

Times of response right now average 1.3 days in an emergency situation. we want to trim that down substantially. With drones, we can get anywhere in the city in less than 45 minutes. Delivering first response even before authorities show up. 

[Back to table of contents](#table-of-contents)





